<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="mapper.point">
	<select id="getPoint" parameterType="Long" resultType="point">
		select * from point where userNum=#{userNum}
	</select>
	<update id="updatePoint" parameterType="map">
		update point set point = point + #{point}, updatedAt = NOW() where userNum = #{userNum}
	</update>
	<insert id="insertPoint" parameterType="point">
		INSERT INTO point (userNum,point) VALUES(#{userNum}, #{point})
	</insert>
	<select id="totalSalesPointList" resultType="point">
		select * from point
		ORDER BY createdAt DESC
		LIMIT #{start}, #{pageSize}
	</select>
	<select id="CountTotalSalesPoint" resultType="point">
		select COUNT(*) from point
	</select>
</mapper>
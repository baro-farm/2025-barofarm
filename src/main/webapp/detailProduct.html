<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
    <title>상품 상세</title>
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./content.css">
    <link rel="stylesheet" href="./productDetail.css">
</head>
<body>
    <div class="container">
        <!-- 상품정보 -->
        <div class="prodInfoBox">
            <!-- 이미지 -->
            <div class="prodImg">
                <img src="../img/fruits1.jpg" alt="상추이미지">
            </div>
            <div class="prodInfo">
                <!-- 스토어상품정보 -->
                <div class="storeName"><a href="">충남부여 강도석 &gt;</a></div>
                <div class="prodTitle">[친환경 수정재배] 유럽 샐러드 채소 야채 1kg 유러피안 버터헤드 로메인 상추 쌈채소</div>
                <div class="additional">
                    <div class="reviewScore">⭐ 4.5 (212)</div>
                    <div class="price">7,400원</div>
                </div>
          
                <!-- 주문옵션전체영역 -->
                <div class="orderOption">
                    <select id="optionSelect" class="selectBox">
                        <option value="">옵션 선택</option>
                        <option value="바타비아|7400">바타비아 - 7,400원</option>
                        <option value="로메인|7800">로메인 - 7,800원</option>
                        <option value="버터헤드|8000">버터헤드 - 8,000원</option>
                    </select>
                    <div id="selectedOptions"></div>
                </div>

                 <!-- 총 가격 -->
                <div class="totalPrice"><span id="totalPrice">0</span>원</div>
                
                <!-- 버튼 영역 -->
                <div class="actionButtons">
                    <a href="#" id="basket">장바구니</a>
                    <a href="#" id="purchase">구매하기</a>
                </div>
            </div>
        </div>

        <!-- 상세정보 -->
        <div class="tabs" id="details">
            <ul class="tabList">
                <li class="tab focus"><a href="#details">상세정보</a></li>
                <li class="tab"><a href="#reviews">리뷰 보기(21)</a></li>
                <li class="tab"><a href="#qna">문의(11)</a></li>
                <li class="tab"><a href="#info">안내사항</a></li>
              </ul>
        </div>
        <div class="contentDetail">
            <div>
                <img src="../img/image 4.png" alt="">
            </div>
        </div>
        <!-- 리뷰 -->
        <div class="tabs" id="reviews">
            <ul class="tabList">
                <li class="tab"><a href="#details">상세정보</a></li>
                <li class="tab focus"><a href="#reviews">리뷰 보기(21)</a></li>
                <li class="tab"><a href="#qna">문의(11)</a></li>
                <li class="tab"><a href="#info">안내사항</a></li>
              </ul>
        </div>
        <!-- 리뷰 이미지 슬라이더 -->
        <div class="imgSlider">
            <button class="nav-button prev" onclick="slide(-1)">←</button>
            <div class="slider" id="slider">
              <div class="slide"><img src="../img/fruits1.jpg" alt="1"></div>
              <div class="slide"><img src="../img/fruits2.jpg" alt="2"></div>
              <div class="slide"><img src="../img/fruits3.jpg" alt="3"></div>
              <div class="slide"><img src="../img/bener1.jpg" alt="4"></div>
              <div class="slide"><img src="../img/bener2.jpg" alt="5"></div>
              <div class="slide"><img src="../img/bener3.jpg" alt="6"></div>
              <div class="slide"><img src="../img/fruits1.jpg" alt="7"></div>
              <div class="slide"><img src="../img/fruits2.jpg" alt="8"></div>
              <div class="slide"><img src="../img/fruits3.jpg" alt="9"></div>
              <div class="slide"><img src="../img/fruits1.jpg" alt="10"></div>
            </div>
            <button class="nav-button next" onclick="slide(1)">→</button>
        </div>
        <!-- 리뷰내용  -->
            <table class="reviewTable">
                <tr>
                  <td class="reviewContent">
                    <div class="reviewId">
                      <strong>id18****</strong>
                      <span class="stars">⭐⭐⭐⭐</span>
                      <span class="reviewDate">2025-03-29</span>
                    </div>
                    <div class="prodName">[친환경 수정재배] 유럽 샐러드 채소 야채 1kg ...</div>
                    <div class="reviewText">
                      주기적으로 재구매하고 있습니다.<br>
                      이틀만에 배송되어 신선한 상태로 잘 받았어요.<br>
                      연한잎채소들이라 샐러드 만들어먹기 딱이에요.<br>
                      알려주신대로 소분해놓으면 신선하게 오래 먹을수있어요. 늘 좋은상품을 보내주셔서 고맙습니다.
                    </div>
                    
                    <td class="reviewImage">
                        <img src="../img/bener2.jpg" alt="review image">
                      </td>
                  </td>
                </tr>
                <tr>
                    <td class="reviewContent">
                      <div class="reviewId">
                        <strong>id18****</strong>
                        <span class="stars">⭐⭐⭐⭐</span>
                        <span class="reviewDate">2025-03-29</span>
                      </div>
                      <div class="prodName">[친환경 수정재배] 유럽 샐러드 채소 야채 1kg ...</div>
                      <div class="reviewText">
                        주기적으로 재구매하고 있습니다.<br>
                        이틀만에 배송되어 신선한 상태로 잘 받았어요.<br>
                        연한잎채소들이라 샐러드 만들어먹기 딱이에요.<br>
                        알려주신대로 소분해놓으면 신선하게 오래 먹을수있어요. 늘 좋은상품을 보내주셔서 고맙습니다.
                      </div>
                      
                    </td>
                  </tr>
                  <tr>
                    <td class="reviewContent">
                      <div class="reviewId">
                        <strong>id18****</strong>
                        <span class="stars">⭐⭐⭐⭐</span>
                        <span class="reviewDate">2025-03-29</span>
                      </div>
                      <div class="prodName">[친환경 수정재배] 유럽 샐러드 채소 야채 1kg ...</div>
                      <div class="reviewText">
                        주기적으로 재구매하고 있습니다.<br>
                        이틀만에 배송되어 신선한 상태로 잘 받았어요.<br>
                        연한잎채소들이라 샐러드 만들어먹기 딱이에요.<br>
                        알려주신대로 소분해놓으면 신선하게 오래 먹을수있어요. 늘 좋은상품을 보내주셔서 고맙습니다.
                      </div>
                      
                    </td>
                  </tr>
            </table>     
            <div class="paging">
                <a href="">&lt;</a>
                <a href="" class="pagingBtn">1</a>
                <a href="" class="pagingBtn">2</a>
                <a href="" class="pagingBtn">3</a>
                <a href="">&gt;</a>
            </div>

        <!-- 문의 -->
        <div class="tabs" id="qna">
            <ul class="tabList">
                <li class="tab"><a href="#details">상세정보</a></li>
                <li class="tab"><a href="#reviews">리뷰 보기(21)</a></li>
                <li class="tab focus"><a href="#qna">문의(11)</a></li>
                <li class="tab"><a href="#info">안내사항</a></li>
              </ul>
        </div>
        
        <table id="notice_table" class="table" width="100%">
            <thead class="">
                <tr>
                    <th style="font-weight: bold;">답변상태</th>
                    <th style="font-weight: bold;">제목</th>
                    <th style="font-weight: bold;">작성자</th>
                    <th style="font-weight: bold;">작성일</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>답변대기</td>
                    <td><a href="">고객센터 전화번호 변경안내</a></td>
                    <td>id18****</td>
                    <td>2025-03-29</td>
                </tr>
                <tr>
                    <td>답변대기</td>
                    <td><a href="">발송마감시간 변경안내</a></td>
                    <td>id335****</td>
                    <td>2025-03-29</td>
                </tr>
                <tr>
                    <td>답변완료</td>
                    <td><a href="" class="question">연말연시 배송안내</a></td>
                    <td>id877****</td>
                    <td>2025-02-21</td>
                </tr>
                <tr class="answerRow">
                    <td colspan="4" class="answer">
                      <span class="tag">답변</span>
                      안녕하세요. 고객님~ 저희 유럽 샐러드 채소를 주문해주시면...
                      <div class="meta">판매자 | 2025-02-21</div>
                    </td>
                  </tr>
                <tr>
                    <td>답변완료</td>
                    <td><a href="">2019년 설 연휴 배송안내</a></td>
                    <td>id1sssss8****</td>
                    <td>2025-03-29</td>
                </tr>
                <tr>
                    <td>답변완료</td>
                    <td><a href="">상품을 교환/반품하고 싶어요.</a></td>
                    <td>id335****</td>
                    <td>2025-03-29</td>
                </tr>
            </tbody>
        </table>

        <div class="paging">
            <a href="">&lt;</a>
            <a href="" class="pagingBtn">1</a>
            <a href="" class="pagingBtn">2</a>
            <a href="" class="pagingBtn">3</a>
            <a href="">&gt;</a>
        </div>
        <!-- 안내사항 -->
        <div class="tabs" id="info">
            <ul class="tabList">
                <li class="tab"><a href="#details">상세정보</a></li>
                <li class="tab"><a href="#reviews">리뷰 보기(21)</a></li>
                <li class="tab"><a href="#qna">문의(11)</a></li>
                <li class="tab focus"><a href="#info">안내사항</a></li>
              </ul>
        </div>
        <div class="infoContent">
            <div>
                <p>📌 결제안내</p>
                <p>전화 주문은 받지 않습니다.</p>
                <p>온라인 홈페이지를 통해 주문 하시기를 부탁드립니다.</p>
            </div>
            <div>
                <p>📦 배송안내</p>
                <p>바로팜은은 생산자가 산지에서 직접 포장, 일반 택배사를 이용해 발송합니다.</p>
                <p>품목마다 택배사, 발송 요일이 다릅니다. 상세페이지 뒷부분 배송 안내를 참고하세요.</p>
                <p>주문요청 항목은 메모, 배송이 지연될 수 있으니 참고하세요.</p>
                <p>도서산간 지역은 배송비가 추가됩니다.</p>
                <p>포장과 상자는 생산자의 상황에 따라 달라질 수 있습니다.</p>
                <p>물품 사진은 생산자가가 직접 찍은 사진입니다. 투박하지만 정직과 정성을 담았습니다.</p>
                <p>물품에 대해 궁금하신 점은 중앙사무국(02-582-1416)으로 전화주세요.</p>
            </div>
        </div>
    </div>

    <script>
        const selectBox = document.getElementById('optionSelect');
        const selectedOptionsContainer = document.getElementById('selectedOptions');
        const totalPriceEl = document.getElementById('totalPrice');

        const selectedOptions = {};

        function updateTotalPrice() {
        let total = 0;
        for (const key in selectedOptions) {
            total += selectedOptions[key].price * selectedOptions[key].qty;
        }
        totalPriceEl.textContent = total.toLocaleString();
        }

        function renderOptions() {
        selectedOptionsContainer.innerHTML = '';

        Object.entries(selectedOptions).forEach(([key, { name, price, qty }]) => {
            const wrapper = document.createElement('div');
            wrapper.className = 'selectedOptionItem';

            wrapper.innerHTML = `
            <div class="optionName">${name}</div>
            <div class="optionControls">
                <button class="decrease" data-key="${key}">-</button>
                <span class="qty">${qty}</span>
                <button class="increase" data-key="${key}">+</button>
            </div>
            <div class="optionPrice">${(price * qty).toLocaleString()}원</div>
            <div class="removeBtn" data-key="${key}"> X </div>
            `;

            selectedOptionsContainer.appendChild(wrapper);
        });

        updateTotalPrice();
        }

        selectBox.addEventListener('change', function () {
        const selectedValue = this.value;
        if (!selectedValue) return;

        const [name, priceStr] = selectedValue.split('|');
        const key = name;
        const price = parseInt(priceStr, 10);

        if (!selectedOptions[key]) {
            selectedOptions[key] = { name, price, qty: 1 };
        } else {
            selectedOptions[key].qty += 1;
        }

        // 선택 초기화
        selectBox.selectedIndex = 0;
        renderOptions();
        });

        selectedOptionsContainer.addEventListener('click', function (e) {
        const key = e.target.dataset.key;
        if (!key) return;

        if (e.target.classList.contains('increase')) {
            selectedOptions[key].qty += 1;
        }

        if (e.target.classList.contains('decrease')) {
            selectedOptions[key].qty -= 1;
            if (selectedOptions[key].qty <= 0) {
            delete selectedOptions[key];
            }
        }

        if (e.target.classList.contains('removeBtn')) {
            delete selectedOptions[key];
        }

        renderOptions();
        });

        // 이미지 슬라이더
        let scrollAmount = 0;
            const slider = document.getElementById('slider');
            const slideWidth = 150; // 이미지 너비 + margin
        
            function slide(direction) {
              scrollAmount += direction * slideWidth * 7;
              scrollAmount = Math.max(0, Math.min(scrollAmount, slider.scrollWidth - slider.clientWidth));
              slider.style.transform = `translateX(-${scrollAmount}px)`;
            }

        // 문의하기 조회
         document.addEventListener('DOMContentLoaded', function () {
    // 모든 a.question 요소에 클릭 이벤트 추가
    document.querySelectorAll('a.question').forEach(function (link) {
      link.addEventListener('click', function (e) {
        e.preventDefault(); // a 태그 기본 동작 막기

        const parentTr = link.closest('tr'); // 현재 클릭된 a의 부모 tr
        const nextTr = parentTr.nextElementSibling; // 그 다음 tr

        // 다음 tr이 answerRow면 토글
        if (nextTr && nextTr.classList.contains('answerRow')) {
          nextTr.classList.toggle('active');
        }
      });
    });
  });
   
          
      </script>
      
      
</body>

</html>